execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] run function mapmaker:portal_material_emacipation_grill/materialemancipationgrill-tagremove

execute as @e[tag=material_emancipation_grill] at @s run kill @e[type=!player,distance=..0.6,tag=asec_eq]
execute as @e[tag=material_emancipation_grill] at @s run kill @e[type=item,distance=..2,nbt=!{Item:{tag:{Tags:["portalgun"]}}}]


execute as @a[tag=bbpg] at @s if entity @e[tag=blueportal] if entity @e[tag=material_emancipation_grill,distance=..1] run tag @s add portal_fizzle
execute as @a[tag=bbpg] at @s if entity @e[tag=blueportal] if entity @e[tag=material_emancipation_grill,distance=..1] run kill @e[tag=bluep]

execute as @a[tag=oopg] at @s if entity @e[tag=orangeportal] if entity @e[tag=material_emancipation_grill,distance=..1] run tag @s add portal_fizzle
execute as @a[tag=oopg] at @s if entity @e[tag=orangeportal] if entity @e[tag=material_emancipation_grill,distance=..1] run kill @e[tag=orangep]


execute as @a[tag=lbpg] at @s if entity @e[tag=lightblueportal] if entity @e[tag=material_emancipation_grill,distance=..1] run tag @s add portal_fizzle
execute as @a[tag=lbpg] at @s if entity @e[tag=lightblueportal] if entity @e[tag=material_emancipation_grill,distance=..1] run kill @e[tag=lightbluep]

execute as @a[tag=pppg] at @s if entity @e[tag=purpleportal] if entity @e[tag=material_emancipation_grill,distance=..1] run tag @s add portal_fizzle
execute as @a[tag=pppg] at @s if entity @e[tag=purpleportal] if entity @e[tag=material_emancipation_grill,distance=..1] run kill @e[tag=purplep]
execute as @a[tag=yypg] at @s if entity @e[tag=yellowportal] if entity @e[tag=material_emancipation_grill,distance=..1] run tag @s add portal_fizzle
execute as @a[tag=yypg] at @s if entity @e[tag=yellowportal] if entity @e[tag=material_emancipation_grill,distance=..1] run kill @e[tag=yellowp]
execute as @a[tag=rrpg] at @s if entity @e[tag=redportal] if entity @e[tag=material_emancipation_grill,distance=..1] run tag @s add portal_fizzle
execute as @a[tag=rrpg] at @s if entity @e[tag=redportal] if entity @e[tag=material_emancipation_grill,distance=..1] run kill @e[tag=redp]


execute as @a[tag=portal_fizzle] at @s if score Sound config matches 1 run playsound minecraft:portal_fizzle_1 ambient @s ~ ~ ~ 1
execute as @a[tag=portal_fizzle] at @s if score Sound config matches 2 run playsound minecraft:portal_fizzle_2 ambient @s ~ ~ ~ 1
tag @a[tag=portal_fizzle] remove portal_fizzle

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1] at @s if block ^ ^1 ^1 air run playsound minecraft:entity.armor_stand.break ambient @a ~ ~ ~
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1] at @s if block ^ ^1 ^1 air run kill @s
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1] at @s if block ^ ^2 ^1 air run playsound minecraft:entity.armor_stand.break ambient @a ~ ~ ~
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1] at @s if block ^ ^2 ^1 air run kill @s

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2] at @s if block ^ ^1 ^1 air run playsound minecraft:entity.armor_stand.break ambient @a ~ ~ ~
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2] at @s if block ^ ^1 ^1 air run tag @s add megkill
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2] at @s if block ^ ^2 ^1 air run playsound minecraft:entity.armor_stand.break ambient @a ~ ~ ~
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2] at @s if block ^ ^2 ^1 air run tag @s add megkill

execute as @e[type=minecraft:armor_stand,tag=megkill] at @s run kill @e[type=!player,tag=material_emancipation_grill_door,distance=..1]
execute as @e[type=minecraft:armor_stand,tag=megkill] run kill @s

#########################
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=!AlwaysActive] at @s run tag @s remove activated

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^ ^1 ^2 minecraft:redstone_block run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^ ^2 ^2 minecraft:redstone_block run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^1 ^1 ^1 minecraft:redstone_block run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^1 ^2 ^1 minecraft:redstone_block run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^-1 ^1 ^1 minecraft:redstone_block run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^-1 ^2 ^1 minecraft:redstone_block run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^ ^ ^1 minecraft:redstone_block run tag @s add activated

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^ ^1 ^2 minecraft:redstone_torch[lit=true] run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^ ^2 ^2 minecraft:redstone_torch[lit=true] run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^1 ^1 ^1 minecraft:redstone_torch[lit=true] run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^1 ^2 ^1 minecraft:redstone_torch[lit=true] run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^-1 ^1 ^1 minecraft:redstone_torch[lit=true] run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^-1 ^2 ^1 minecraft:redstone_torch[lit=true] run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s if block ^ ^ ^1 minecraft:redstone_torch[lit=true] run tag @s add activated

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s unless block ^ ^1 ^2 minecraft:redstone_wire[power=0] if block ^ ^1 ^2 minecraft:redstone_wire run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s unless block ^ ^2 ^2 minecraft:redstone_wire[power=0] if block ^ ^2 ^2 minecraft:redstone_wire run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s unless block ^1 ^1 ^1 minecraft:redstone_wire[power=0] if block ^1 ^1 ^1 minecraft:redstone_wire run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s unless block ^1 ^2 ^1 minecraft:redstone_wire[power=0] if block ^1 ^2 ^1 minecraft:redstone_wire run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s unless block ^-1 ^1 ^1 minecraft:redstone_wire[power=0] if block ^-1 ^1 ^1 minecraft:redstone_wire run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s unless block ^-1 ^2 ^1 minecraft:redstone_wire[power=0] if block ^-1 ^2 ^1 minecraft:redstone_wire run tag @s add activated
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base] at @s unless block ^ ^ ^1 minecraft:redstone_wire[power=0] if block ^ ^ ^1 minecraft:redstone_wire run tag @s add activated

execute as @e[tag=material_emancipation_grill_base,tag=S] run tag @s add N
execute as @e[tag=material_emancipation_grill_base,tag=E] run tag @s add W

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated] at @s positioned ^ ^0.5 ^0 unless entity @e[tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb1
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb1] at @s positioned ^ ^0.5 ^-1 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb2
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb2] at @s positioned ^ ^0.5 ^-2 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb3
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb3] at @s positioned ^ ^0.5 ^-3 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb4
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb4] at @s positioned ^ ^0.5 ^-4 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb5
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb5] at @s positioned ^ ^0.5 ^-5 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb6
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb6] at @s positioned ^ ^0.5 ^-6 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb7
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb7] at @s positioned ^ ^0.5 ^-7 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb8
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb8] at @s positioned ^ ^0.5 ^-8 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb9
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb9] at @s positioned ^ ^0.5 ^-9 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb10
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb10] at @s positioned ^ ^0.5 ^-10 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb11
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb11] at @s positioned ^ ^0.5 ^-11 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb12
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb12] at @s positioned ^ ^0.5 ^-12 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb13
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb13] at @s positioned ^ ^0.5 ^-13 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb14
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb14] at @s positioned ^ ^0.5 ^-14 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb15
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb15] at @s positioned ^ ^0.5 ^-15 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb16
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb16] at @s positioned ^ ^0.5 ^-16 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb17
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb17] at @s positioned ^ ^0.5 ^-17 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb18
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb18] at @s positioned ^ ^0.5 ^-18 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb19
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb19] at @s positioned ^ ^0.5 ^-19 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=!activated,distance=..1] run tag @s add megb20

execute as @e[tag=material_emancipation_grill_base,tag=meg1,tag=activated] at @s unless block ^ ^1 ^-1 air run tag @s add megb0
execute as @e[tag=material_emancipation_grill_base,tag=meg1,tag=activated] at @s unless block ^ ^2 ^-1 air run tag @s add megb0
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=megb20] run tag @s remove activated


execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb0,tag=N] at @s positioned ^ ^ ^0 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb1,tag=N] at @s positioned ^ ^ ^0 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb1,tag=N] at @s positioned ^ ^ ^-1 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb2,tag=N] at @s positioned ^ ^ ^-2 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb3,tag=N] at @s positioned ^ ^ ^-3 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb4,tag=N] at @s positioned ^ ^ ^-4 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb5,tag=N] at @s positioned ^ ^ ^-5 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb6,tag=N] at @s positioned ^ ^ ^-6 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb7,tag=N] at @s positioned ^ ^ ^-7 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb8,tag=N] at @s positioned ^ ^ ^-8 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb9,tag=N] at @s positioned ^ ^ ^-9 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb10,tag=N] at @s positioned ^ ^ ^-10 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb11,tag=N] at @s positioned ^ ^ ^-11 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb12,tag=N] at @s positioned ^ ^ ^-12 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb13,tag=N] at @s positioned ^ ^ ^-13 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb14,tag=N] at @s positioned ^ ^ ^-14 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb15,tag=N] at @s positioned ^ ^ ^-15 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb16,tag=N] at @s positioned ^ ^ ^-16 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb17,tag=N] at @s positioned ^ ^ ^-17 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb18,tag=N] at @s positioned ^ ^ ^-18 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb19,tag=N] at @s positioned ^ ^ ^-19 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg1"]}

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb0,tag=W] at @s positioned ^ ^ ^0 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb1,tag=W] at @s positioned ^ ^ ^0 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb1,tag=W] at @s positioned ^ ^ ^-1 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb2,tag=W] at @s positioned ^ ^ ^-2 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb3,tag=W] at @s positioned ^ ^ ^-3 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb4,tag=W] at @s positioned ^ ^ ^-4 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb5,tag=W] at @s positioned ^ ^ ^-5 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb6,tag=W] at @s positioned ^ ^ ^-6 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb7,tag=W] at @s positioned ^ ^ ^-7 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb8,tag=W] at @s positioned ^ ^ ^-8 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb9,tag=W] at @s positioned ^ ^ ^-9 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb10,tag=W] at @s positioned ^ ^ ^-10 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb11,tag=W] at @s positioned ^ ^ ^-11 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb12,tag=W] at @s positioned ^ ^ ^-12 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb13,tag=W] at @s positioned ^ ^ ^-13 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb14,tag=W] at @s positioned ^ ^ ^-14 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb15,tag=W] at @s positioned ^ ^ ^-15 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb16,tag=W] at @s positioned ^ ^ ^-16 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb17,tag=W] at @s positioned ^ ^ ^-17 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb18,tag=W] at @s positioned ^ ^ ^-18 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg1,tag=activated,tag=megb19,tag=W] at @s positioned ^ ^ ^-19 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg1"]}

execute as @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,tag=Nmeg1] at @s positioned ^ ^-2 ^ unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill,distance=..0.1] run summon armor_stand ^ ^ ^ {Invisible:1b,Invulnerable:1b,NoBasePlate:1b,NoGravity:1b,ArmorItems:[{},{},{},{id:"diamond_hoe",Count:1b,tag:{Damage:1520,Unbreakable:1}}],DisabledSlots:2037535,Tags:["material_emancipation_grill"]}
execute as @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,tag=Wmeg1] at @s positioned ^ ^-2 ^ unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill,distance=..0.1] run summon armor_stand ^ ^ ^ {Invisible:1b,Invulnerable:1b,NoBasePlate:1b,NoGravity:1b,ArmorItems:[{},{},{},{id:"diamond_hoe",Count:1b,tag:{Damage:1522,Unbreakable:1}}],DisabledSlots:2037535,Tags:["material_emancipation_grill"]}

############################################################

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated] at @s positioned ^ ^0.5 ^0 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb1
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb1] at @s positioned ^ ^0.5 ^-1 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb2
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb2] at @s positioned ^ ^0.5 ^-2 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb3
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb3] at @s positioned ^ ^0.5 ^-3 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb4
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb4] at @s positioned ^ ^0.5 ^-4 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb5
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb5] at @s positioned ^ ^0.5 ^-5 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb6
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb6] at @s positioned ^ ^0.5 ^-6 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb7
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb7] at @s positioned ^ ^0.5 ^-7 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb8
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb8] at @s positioned ^ ^0.5 ^-8 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb9
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb9] at @s positioned ^ ^0.5 ^-9 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb10
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb10] at @s positioned ^ ^0.5 ^-10 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb11
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb11] at @s positioned ^ ^0.5 ^-11 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb12
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb12] at @s positioned ^ ^0.5 ^-12 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb13
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb13] at @s positioned ^ ^0.5 ^-13 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb14
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb14] at @s positioned ^ ^0.5 ^-14 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb15
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb15] at @s positioned ^ ^0.5 ^-15 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb16
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb16] at @s positioned ^ ^0.5 ^-16 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb17
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb17] at @s positioned ^ ^0.5 ^-17 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb18
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb18] at @s positioned ^ ^0.5 ^-18 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb19
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb19] at @s positioned ^ ^0.5 ^-19 unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..1] run tag @s add megb20

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=megb20] run tag @s remove activated


tag @e[type=minecraft:armor_stand,tag=meg1tps] remove meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb1] at @s positioned ^ ^ ^-1 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb2] at @s positioned ^ ^ ^-2 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb3] at @s positioned ^ ^ ^-3 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb4] at @s positioned ^ ^ ^-4 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb5] at @s positioned ^ ^ ^-5 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb6] at @s positioned ^ ^ ^-6 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb7] at @s positioned ^ ^ ^-7 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb8] at @s positioned ^ ^ ^-8 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb9] at @s positioned ^ ^ ^-9 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb10] at @s positioned ^ ^ ^-10 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb11] at @s positioned ^ ^ ^-11 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb12] at @s positioned ^ ^ ^-12 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb13] at @s positioned ^ ^ ^-13 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb14] at @s positioned ^ ^ ^-14 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb15] at @s positioned ^ ^ ^-15 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb16] at @s positioned ^ ^ ^-16 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb17] at @s positioned ^ ^ ^-17 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps
execute as @e[tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb18] at @s positioned ^ ^ ^-18 run tag @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,distance=..0.5] add meg1tps

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=meg1tps,tag=!Omeg1tp] at @s run tp @s ^ ^ ^-0.2
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=meg1tps,tag=!Omeg1tp] at @s run data merge entity @e[tag=material_emancipation_grill_door,sort=nearest,limit=1] {ArmorItems:[{},{},{},{id:"diamond_hoe",Count:1b,tag:{Damage:1515,Unbreakable:1}}]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=meg1tps,tag=!Omeg1tp] run tag @s add Omeg1tp

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!meg1tps,tag=Omeg1tp] at @s run tp @s ^ ^ ^0.2
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!meg1tps,tag=Omeg1tp] at @s run scoreboard players set @s animationtime 10
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,scores={animationtime=..2}] run data merge entity @e[tag=material_emancipation_grill_door,sort=nearest,limit=1] {ArmorItems:[{},{},{},{id:"diamond_hoe",Count:1b,tag:{Damage:1516,Unbreakable:1}}]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!meg1tps,tag=Omeg1tp] run tag @s remove Omeg1tp

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=!Ymeg1tp] at @s run tp @s ^ ^ ^-0.2
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=!Ymeg1tp] at @s run data merge entity @e[tag=material_emancipation_grill_door,sort=nearest,limit=1] {ArmorItems:[{},{},{},{id:"diamond_hoe",Count:1b,tag:{Damage:1515,Unbreakable:1}}]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=!Ymeg1tp] at @s run stopsound @a ambient minecraft:fizzler_start_01
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=!Ymeg1tp] at @s run playsound minecraft:fizzler_start_01 ambient @a ~ ~ ~
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,tag=Ymeg1tp] at @s run tp @s ^ ^ ^0.2
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,tag=Ymeg1tp] at @s run scoreboard players set @s animationtime 10
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,scores={animationtime=..2}] at @s run data merge entity @e[tag=material_emancipation_grill_door,sort=nearest,limit=1] {ArmorItems:[{},{},{},{id:"diamond_hoe",Count:1b,tag:{Damage:1516,Unbreakable:1}}]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,tag=Ymeg1tp] at @s run stopsound @a ambient minecraft:fizzler_start_01
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated,tag=Ymeg1tp] at @s run playsound minecraft:fizzler_shutdown_01 ambient @a ~ ~ ~

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated] run tag @s add Ymeg1tp
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=!activated] run tag @s remove Ymeg1tp

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated] at @s unless block ^ ^1 ^-1 air run tag @s add megb0
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated] at @s unless block ^ ^2 ^-1 air run tag @s add megb0
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=megb20] run function mapmaker:material_emacipation_grill/materialemancipationgrill-tagremove

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb0,tag=N] at @s positioned ^ ^ ^0 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb1,tag=N] at @s positioned ^ ^ ^0 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb1,tag=N] at @s positioned ^ ^ ^-1 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb2,tag=N] at @s positioned ^ ^ ^-2 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb3,tag=N] at @s positioned ^ ^ ^-3 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb4,tag=N] at @s positioned ^ ^ ^-4 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb5,tag=N] at @s positioned ^ ^ ^-5 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb6,tag=N] at @s positioned ^ ^ ^-6 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb7,tag=N] at @s positioned ^ ^ ^-7 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb8,tag=N] at @s positioned ^ ^ ^-8 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb9,tag=N] at @s positioned ^ ^ ^-9 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb10,tag=N] at @s positioned ^ ^ ^-10 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb11,tag=N] at @s positioned ^ ^ ^-11 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb12,tag=N] at @s positioned ^ ^ ^-12 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb13,tag=N] at @s positioned ^ ^ ^-13 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb14,tag=N] at @s positioned ^ ^ ^-14 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb15,tag=N] at @s positioned ^ ^ ^-15 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb16,tag=N] at @s positioned ^ ^ ^-16 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb17,tag=N] at @s positioned ^ ^ ^-17 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb18,tag=N] at @s positioned ^ ^ ^-18 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb19,tag=N] at @s positioned ^ ^ ^-19 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Nmeg2"]}

execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb0,tag=W] at @s positioned ^ ^ ^0 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb1,tag=W] at @s positioned ^ ^ ^0 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb1,tag=W] at @s positioned ^ ^ ^-1 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb2,tag=W] at @s positioned ^ ^ ^-2 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb3,tag=W] at @s positioned ^ ^ ^-3 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb4,tag=W] at @s positioned ^ ^ ^-4 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb5,tag=W] at @s positioned ^ ^ ^-5 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb6,tag=W] at @s positioned ^ ^ ^-6 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb7,tag=W] at @s positioned ^ ^ ^-7 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb8,tag=W] at @s positioned ^ ^ ^-8 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb9,tag=W] at @s positioned ^ ^ ^-9 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb10,tag=W] at @s positioned ^ ^ ^-10 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb11,tag=W] at @s positioned ^ ^ ^-11 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb12,tag=W] at @s positioned ^ ^ ^-12 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb13,tag=W] at @s positioned ^ ^ ^-13 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb14,tag=W] at @s positioned ^ ^ ^-14 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb15,tag=W] at @s positioned ^ ^ ^-15 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb16,tag=W] at @s positioned ^ ^ ^-16 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb17,tag=W] at @s positioned ^ ^ ^-17 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb18,tag=W] at @s positioned ^ ^ ^-18 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill_base,tag=meg2,tag=activated,tag=megb19,tag=W] at @s positioned ^ ^ ^-19 unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run summon area_effect_cloud ^ ^2 ^ {Tags:["material_emancipation_grill","Wmeg2"]}

execute as @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,tag=Nmeg2] at @s positioned ^ ^-2 ^ unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill,distance=..0.1] run summon armor_stand ^ ^ ^ {Invisible:1b,Invulnerable:1b,NoBasePlate:1b,NoGravity:1b,ArmorItems:[{},{},{},{id:"diamond_hoe",Count:1b,tag:{Damage:1517,Unbreakable:1}}],DisabledSlots:2037535,Tags:["material_emancipation_grill"]}
execute as @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,tag=Wmeg2] at @s positioned ^ ^-2 ^ unless entity @e[type=minecraft:armor_stand,tag=material_emancipation_grill,distance=..0.1] run summon armor_stand ^ ^ ^ {Invisible:1b,Invulnerable:1b,NoBasePlate:1b,NoGravity:1b,ArmorItems:[{},{},{},{id:"diamond_hoe",Count:1b,tag:{Damage:1518,Unbreakable:1}}],DisabledSlots:2037535,Tags:["material_emancipation_grill"]}
execute as @e[type=minecraft:armor_stand,tag=material_emancipation_grill] at @s positioned ^ ^2 ^ unless entity @e[type=minecraft:area_effect_cloud,tag=material_emancipation_grill,distance=..0.1] run kill @s

